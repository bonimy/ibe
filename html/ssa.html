<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>IRSA Image Server - SIA v2 Queries</title>
	<link href="docs.css" type="text/css" rel="stylesheet" />
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js"></script>
</head>

<body>

<script>
fireflyToolbar= {
        "rootComponentsURL" : "https://irsa.ipac.caltech.edu",
        "direct" : true,
        };
</script>

<div id="irsa-banner"   style= "min-width:768px; min-height:95px"></div>
<script type="text/javascript" language='javascript' src='https://irsa.ipac.caltech.edu/frontpage/frontpage.nocache.js'> </script>

<div class="content">

<h1><a href="index.html">IRSA Image Server</a> - SSA Queries</h1>

<ul>
	<li><a href="#avail">Available data-sets</a></li>
	<li><a href="#overview">Overview</a></li>
	<li><a href="#metadata">Metadata queries</a></li>
	<li><a href="#constraints">Query Constraints</a></li>
	<li><a href="#examples">Examples</a></li>
	<li><a href="#help">Getting Help</a></li>
</ul>

<a name="avail" />

<h3>Available data-sets</h3>

<div>
        <table>

        <tr><td colspan="4"><strong>Spitzer Heritage Archive (SHA)</strong></td></tr>
        <tr><th>Data-set</th><th>Collection Name</th><th>Calibration Level</th></tr>

        <tr>
          <td><a href="/data/SPITZER/docs/">Spitzer Heritage Archive<br>Public data taken before 02-Mar-2017</a></td>
          <td>spitzer_sha</td>
          <td>1, 2, and 3</td>
        </tr>

	<tr><td>&nbsp;</td></tr>
	</table>

</div>

<a name="overview" />

<h3>Overview</h3>

<p>

An overview of how to perform SSA queries is provided below. For full
details, please see the <a href = "http://www.ivoa.net">IVOA</a> <a href = "http://www.ivoa.net/documents/SSA/">SSA</a> specification.

</p>

<a name="metadata" />

<h3>Metadata queries</h3>

<p>

To perform a metadata query, visit <a href =
"/SSA?FORMAT=METADATA">/SSA?FORMAT=METADATA</a>. The
result will be a <a href = "http://www.ivoa.net/documents/VOTable/">VOTable</a> describing the image metadata columns that
are returned by actual queries. All of IRSA's SSA datasets have been
regularized and are contained in the same table.

</p>

<a name="constraints" />

<h3>Query Constraints</h3>

<p>


An SSA query returns a <a href =
"http://www.ivoa.net/documents/VOTable/">VOTable</a> of images satisfying any
number of constraints. By default, queries return results from all
datasets.

The complete list of parameters supported by IRSA's SSA implementation is:

<ul>
<li>POS</li>
<li>SIZE</li>
<li>BAND</li>
<li>TIME</li>
<li>COLLECTION</li>
<li>FORMAT</li>
<li>RESPONSEFORMAT</li>
<li>SPECRP</li>
<li>PUBDID</li>
<li>TARGETNAME</li>
</ul>

</p>

<dl>
  <a name="POS"></a>
  <dt><span class="param">POS</span></dt>
  <dd>

<p>The POS parameter defines the center of the search region. The
coordinate values must be specified as a comma-separated pair with no
white space.

<p>Coordinates default to right-ascension and declination in decimal
degrees in the ICRS coordinate system.</p>

<p>Coordinates requiring more than two values are possible merely by
having more than two comma-delimited values before the qualifier.  It
is an error if an unsupported coordinate reference frame is specified.</p>

<p>

<p>Examples:</p>
<ul>
 <li class="param">POS=52,-27.8</li>
 <li class="param">POS=52,-27.8;GALACTIC</li> 
<ul>
</dd>

<a name = "SIZE"></a>
<dt><span class="param">SIZE</span></dt>
<dd>
<p>

  The POS parameter specifies the search region diameter in decimal
  degrees.  A valid query does not have to specify a SIZE
  parameter. If SIZE is omitted in a positional query, the default
  value is 10 arcseconds.


</p>

<p>Examples:</p>
<ul>
<li class="param">SIZE=0.05</li>
</ul>
<p>
</dd>

<a name = "BAND"></a>
<dt><span class="param">BAND</span></dt>
<dd>
<p>

<p>The BAND parameter specifies the desired wavelength range in units of meters.</p>

<p>If a single numerical value is specified, it matches any spectrum
for which the spectral coverage includes the specified value.</p>

<p>If a range of wavelengths is given, a dataset matches if any portion of its spectral range overlaps the given spectral range. Ranges are specified as min/max.</p>


</p>

<p>Examples:</p>
<ul>
<li class="param">BAND=10e-6</li>
<li class="param">BAND=8e-6/12e-6</li>
</ul>
</dd>

<a name = "TIME"></a>
<dt><span class="param">TIME</span></dt>
<dd>
<p>

<p>The UTC value specified may be a single value or a range.</p>

<p>If a single value is specified it matches any dataset for which
the time coverage includes the specified value.</p>

<p>If a two valued range
is given, a dataset matches if any portion of it overlaps the given
temporal region.</p>

<p>An imprecise value such as yyyy indicates the entire period
specified, e.g., 1990-2000 would match any dataset overlapping the
range from the beginning of 1990 to the end of 2000.</p>

</p>

<p>Examples:</p>
<ul>
<li class="param">TIME=2013-0302T12:40:33</li></li>
<li class="param">TIME=2013-03-02</li>
<li class="param">TIME=2013-03</li>
<li class="param">TIME=2013</li>
</ul>
</dd>

  <a name="COLLECTION"></a>
  <dt><span class="param">COLLECTION</span></dt>
  <dd>
    <p>
      The <span class="param">COLLECTION</span> parameter identifies
      the group of data that an observation belongs to.</p>
    <p>Examples:</p>
    <ul>
      <li class="param">COLLECTION=spitzer_sha</li>
    </ul>
  </dd>

<a name="FORMAT"></a>
<dt><span class="param">FORMAT</span></dt>
<dd>
<p>

The FORMAT parameter defines the data formats the user wants to retrieve.
The value is a 
comma-delimited list. Supported values include the following:

</p>

<table>

<tr>
<td>
all
</td>
<td>
All formats supported by the service
</td>
</tr>

<tr>
<td>
compliant
</td>
<td>
Any SSA data model compliant format
</td>
</tr>

<tr>
<td>
native
</td>
<td>
The native project specific format for a spectrum
</td>
</tr>

<tr>
<td>
graphic
</td>
<td>
Any of the graphics formats: JPEG, PNG, GIF
</td>
</tr>

<tr>
<td>
votable
</td>
<td>
Shorthand for applicaton/x-votable+xml, the SSA VOTable format
</td>
</tr>

<tr>
<td>
fits
</td>
<td>
Shorthand for applicaton/fits, the SSA-compliant FITS format
</td>
</tr>

<tr>
<td>
xml
</td>
<td>
Shorthand for applicaton/xml, the SSA native XML serialization
</td>
</tr>


<tr>
<td>
metadata
</td>
<td>
Reserved for returning service metadata as a VOTable
</td>
</tr>

</table>


<p>If FORMAT is omitted, FORMAT=ALL should be assumed, and the service
will describe all available formats.  The FORMAT parameter describes
the desired format of returned data. If no data is available in the
specified format, a null query response will be returned indicating
that no data satisfying the query is available.  Note FORMAT applies
only to the data; the query response itself is controlled by the
responseformat parameter. </p>

<a name="RESPONSEFORMAT"></a>
  <dt><span class="param">RESPONSEFORMAT</span></dt>
  <dd>
    <p>
      The <span class="param">RESPONSEFORMAT</span>
      parameter specifies what type of output the service
      will return.  The default is VOTable, but many
      options are available:</p>

    <ul>
      <li>FITS: <a href="https://fits.gsfc.nasa.gov/">Flexible Image Transport System</a></li>
      <li>IPAC_TABLE: <a href="/applications/DDGEN/Doc/ipac_tbl.html">IPAC's Table Format</a></li>
      <li>HDF5: <a href="https://www.hdfgroup.org/">Hierarchical Data Format v5</a></li>
      <li>VOTABLE: <a href="http://www.ivoa.net/Documents/VOTable/">IVOA VOTable</a></li>
      <li>JSON: <a href="http://json.org">JavaScript Object Notation</a></li>
      <li>CSV: Comma Separated Values (suitable for loading into spreadsheets)</li>
      <li>TSV: Tab Separated Values (suitable for loading into spreadsheets)</li>
      <li>TEXT: Plain text</li>
      <li>HTML: HTML table suitable for embedding within another page</li>
      <li>POSTGRES: SQL for loading the result into <a href="https://www.postgresql.org/">Postgres</a></li>
      <li>SQLITE: SQL for loading the result into <a href="http://www.sqlite.org/">SQLite</a></li>
      <li>ORACLE: SQL for loading the result into <a href="https://www.oracle.com/database/index.html">Oracle</a></li>
      <li>DB: Raw SQLite database</li>
    </ul>
    <p>Examples:</p>
    <ul>
      <li class="param">RESPONSEFORMAT=FITS</li>
      <li class="param">RESPONSEFORMAT=JSON</li>
      <li class="param">RESPONSEFORMAT=TEXT</li>
    </ul>
  </dd>

<a name="examples" />

<h3>Examples</h3>

<ol>

<li>Here is an SSA query returning all data in the Spitzer Heritage Archive that lie within a circular region centered on (ra = 314.304167, dec = +77.596667) and with a radius of 0.5 degrees. Note that we usually have to URL encode the spaces as pluses '+',  though your browser may do that for you.<BR><BR>

curl -o irsa_ssa_example1.csv -v "https://irsa.ipac.caltech.edu/SSA?COLLECTION=spitzer_sha&RESPONSEFORMAT=csv&POS=+314.304167,+77.596667&SIZE=+0.5"

</ol>



<a name="help" />
<h3>Getting Help</h3>

<p>
	If you've run into a problem, think you've found a bug, or simply have questions, please contact
	<a href="https://irsasupport.ipac.caltech.edu/">IRSA User Support</a>.
</p>

</div>

<script type="text/javascript"><!--
	$(document).ready(function() {
		var root, i =  window.location.pathname.lastIndexOf("/");
		if (i < 0) {
			root = "";
		} else {
			root = window.location.pathname.substring(0, i);
		}
		var server = window.location.protocol + '//' + window.location.host;
		$('span.server').text(server);
		$('span.root').text(root);
	});
--></script>

<div id="irsa-footer" style="position:absolute;left:0;right:0;margin-top:20px">
<iframe src="https://irsa.ipac.caltech.edu/frontpage/footer.html" width="100%" frameborder=0 scrolling=0 seamless=1/>
</div>  <!-- end #irsa-footer -->

</body>
</html>

