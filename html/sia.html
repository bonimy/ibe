<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>IRSA Image Server - SIA v2 Queries</title>
    <link href="docs.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js"></script>
  </head>

  <body>

    <script>
      fireflyToolbar= {
      "rootComponentsURL" : "https://irsa.ipac.caltech.edu",
      "direct" : true,
      };
    </script>

    <div id="irsa-banner"   style= "min-width:768px; min-height:95px"></div>
    <script type="text/javascript" language='javascript' src='https://irsa.ipac.caltech.edu/frontpage/frontpage.nocache.js'> </script>

    <div class="content">

      <h1><a href="index.html">IRSA Image Server</a> - SIA v2 Queries</h1>

      <ul>
	<li><a href="#avail">Available data-sets</a></li>
	<li><a href="#overview">Overview</a></li>
	<li><a href="#metadata">Metadata queries</a></li>
	<li><a href="#constraints">Query Constraints</a></li>
	<li><a href="#examples">Examples</a></li>
	<li><a href="#help">Getting Help</a></li>
      </ul>

      <a name="avail" />

      <h3>Available data-sets</h3>

      <div>
        <table>

          <tr><td colspan="4"><strong>Spitzer Heritage Archive (SHA)</strong></td></tr>
          <tr><th>Data-set</th><th>Collection Name</th><th>Calibration Level</th></tr>

          <tr>
            <td><a href="https://irsa.ipac.caltech.edu/data/SPITZER/docs/">Spitzer Heritage Archive<br/>Public data taken before 02-Mar-2017</a></td>
            <td>spitzer_sha</td>
            <td>1, 2, and 3</td>
          </tr>

	  <tr><td>&nbsp;</td></tr>


          <tr><td colspan="4"><strong>WISE AllWISE Release</strong></td></tr>
          <tr><th>Data-set</th><th>Collection Name</th><th>Calibration Level</th></tr>

          <tr>
            <td><a href="docs/wise/allwise/p3am_cdd">AllWISE Atlas Coadds</a></td>
            <td>wise_allwise</td>
            <td>3</td>
          </tr>

	  <tr><td>&nbsp;</td></tr>


          <tr><td colspan="4"><strong>WISE AllSky Release</strong></td></tr>
          <tr><th>Data-set</th><th>Collection Name</th><th>Calibration Level</th></tr>

          <tr>
            <td><a href="docs/wise/allsky/4band_p3am_cdd">4-band Atlas Coadds</a></td>
            <td>wise_allsky</td>
            <td>3</td>
          </tr>

          <tr>
            <td><a href="docs/wise/allsky/4band_p1bm_frm">4-band Level 1B Frames</a></td>
            <td>wise_allsky</td>
            <td>2</td>
          </tr>

          <tr>
            <td><a href="docs/wise/cryo_3band/3band_p3am_cdd">Cryo_3band Atlas Coadds</a></td>
            <td>wise_3bandcryo</td>
            <td>3</td>
          </tr>

          <tr>
            <td><a href="docs/wise/cryo_3band/3band_p1bm_frm">Cryo_3band Level 1B Frames</a></td>
            <td>wise_3bandcryo</td>
            <td>2</td>
          </tr>

          <tr>
            <td><a href="docs/wise/postcryo/2band_p1bm_frm">Postcryo (2-band) Level 1B Frames</a></td>
            <td>wise_2bandcryo</td>
            <td>2</td>
          </tr>

	  <tr><td>&nbsp;</td></tr>



	  <tr><td colspan="4"><strong>WISE Preliminary Release</strong></td></tr>
          <tr><th>Data-set</th><th>Collection Name</th><th>Calibration Level</th></tr>

	  <tr>
            <td><a href="docs/wise/prelim/p3am_cdd">Atlas Coadds</a></td>
            <td>wise_prelim</td>
            <td>3</td>
	  </tr>

	  <tr>
            <td><a href="docs/wise/prelim/p1bm_frm">Level 1B Frames</a></td>
            <td>wise_prelim</td>
            <td>2</td>
	  </tr>

	  <tr>
            <td><a href="docs/wise/prelim_postcryo/p1bm_frm">Postcryo 2B</a></td>
            <td>wise_prelim_2bandcryo</td>
            <td>2</td>
	  </tr>

	  <tr><td>&nbsp;</td></tr>


	  <tr><td colspan="4"><strong>WISE Merged Datasets</strong></td></tr>
          <tr><th>Data-set</th><th>Collection Name</th><th>Calibration Level</th></tr>

          <tr>
            <td><a href="docs/wise/merge/merge_p1bm_frm">Level 1B Frames<br/>Public data taken before 14-Dec-2014</a></td>
            <td>neowiser</td>
            <td>2</td>
          </tr>

	  <tr><td>&nbsp;</td></tr>

          <tr><td colspan="4"><strong>2MASS Datasets</strong></td></tr>
          <tr><th>Data-set</th><th>Collection Name</th><th>Calibration Level</th></tr>

          <tr>
            <td><a href="docs/twomass/allsky/allsky">2MASS All-Sky Data Release Images</a></td>
            <td>twomass_allsky</td>
            <td>2</td>
          </tr>
          <tr>
            <td><a href="docs/twomass/full/full">2MASS Full Survey Images</a></td>
            <td>twomass_full</td>
            <td>2</td>
          </tr>
          <tr>
            <td><a href="docs/twomass/sixxcat/sixxcat">2MASS 6X Catalog Images</a></td>
            <td>twomass_sixxcat</td>
            <td>2</td>
          </tr>
          <tr>
            <td><a href="docs/twomass/sixxfull/sixxfull">2MASS Full 6X Images</a></td>
            <td>twomass_sixxfull</td>
            <td>2</td>
          </tr>
          <tr>
            <td><a href="docs/twomass/calibration/calibration">2MASS Calibration Images</a></td>
            <td>twomass_calibration</td>
            <td>2</td>
          </tr>
          <tr>
            <td><a href="docs/twomass/mosaic/sixdeg">2MASS 6-Degree Mosaics</a></td>
            <td>twomass_sixdeg</td>
            <td>3</td>
          </tr>

          <tr><td>&nbsp;</td></tr>

	</table>

      </div>

      <a name="overview" />

      <h3>Overview</h3>

      <p>
	An overview of how to perform SIA v2 queries is provided below - for full
	details, please see the <a href="http://www.ivoa.net">IVOA</a>
	<a href="http://www.ivoa.net/documents/SIA/">SIA v2 specification</a>.
      </p>

      <a name="metadata" />

      <h3>Metadata queries</h3>

      <p>
	To perform a metadata query,
	visit <a href="/SIA?MAXREC=0">/SIA?MAXREC=0</a>.  The result
	will be a
	<a href="http://www.ivoa.net/Documents/VOTable/">VOTable</a>
	describing the image metadata columns that are returned by
	actual queries.  All of IRSA's SIA v2 datasets have been
	regularized and are contained in the same table.
      </p>

      <a name="constraints" />

      <h3>Query Constraints</h3>

      <p>
	An SIA v2 query returns
	a <a href="http://www.ivoa.net/Documents/VOTable/">VOTable</a>
	of images satisfying any number of constraints.  By default,
	queries return results from all datasets.  IRSA's SIA v2
	holdings contain almost a billion records, so searches without
	constraints will time out.  Common constraints are spatial
	(using the <a href="#POS">POS</a> keyword), dataset (using
	the <a href="#COLLECTION">COLLECTION</a> keyword), and/or
	calibration level (using the <a href="#CALIB">CALIB</a>
	keyword) which we describe below.  In addition, the type of
	output can be specified with
	the <a href="#RESPONSEFORMAT">RESPONSEFORMAT</a> keyword, and
	the number of rows can be limited with
	the <a href="#MAXREC">MAXREC</a> keyword.  The complete list
	of parameters supported by IRSA's SIA v2 implementation is

        <ul>
          <li>POS</li>
          <li>BAND</li>
          <li>TIME</li>
          <li>POL</li>
          <li>FOV</li>
          <li>SPATRES</li>
          <li>SPECRP</li>
          <li>EXPTIME</li>
          <li>TIMERES</li>
          <li>ID</li>
          <li>COLLECTION</li>
          <li>FACILITY</li>
          <li>INSTRUMENT</li>
          <li>DPTYPE</li>
          <li>CALIB</li>
          <li>TARGET</li>
          <li>FORMAT</li>
          <li>MAXREC</li>
          <li>RESPONSEFORMAT</li>
        </ul>
      </p>

      <dl>
        <a name="POS"></a>
        <dt><span class="param">POS</span></dt>
        <dd>
          <p>
            The <span class="param">POS</span> parameter
            value must consist of a shape described by
            ICRS coordinates in decimal degrees. It
            identifies the shape which returned images
            must intersect with.
          </p>
          <p>Examples:</p>
          <ul>
            <li class="param">POS=circle -164.7 -5.8 1</li>
            <li class="param">POS=polygon -164 -5 -165 -5 -165 -6 -164 -6</li>
            <li class="param">POS=range -105 -104 -22 -12</li>
          </ul>
          <p>
            The spatial extent of an image is approximated by connecting
            its corners with great circles to form a spherical convex polygon.
            The search region as defined by this service is also a spherical
            convex polygon (or a point). Spatial predicate evaluation
            is performed on pairs of spherical convex polygons without
            recourse to any performance motivated short-cuts. Nevertheless,
            the implementation uses floating point arithmetic and results are
            therefore not guaranteed to be mathematically exact. Note also
            that the spatial extent of an image with a non-gnomonic projection
            (or large distortion terms) may not be well approximated by
            the technique employed. However, the images currently
            being served have gnomonic or orthographic projections, are of
            small area and have small distortion terms - hence, we believe
            our approximations are accurate enough to be useful.
          </p>
        </dd>

        <a name="BAND"></a>
        <dt><span class="param">BAND</span></dt>
        <dd>
          <p>
            The <span class="param">BAND</span> parameter defines the
            wavelength interval(s) in meters to be searched for data. The value is
            an open or closed energy interval. The interval always includes the
            bounding values. A BAND constraint is satisfied if the interval
            intersects the wavelength coverage of the observation as returned in
            the em_min, em_max columns.
          </p>
          <p>Examples:</p>
          <ul>
            <li>Find only J-band data, which covers the wavelength range 1.154--1.316 micron:
              <p>
                <span class="param">BAND=1.154e-6 1.316e-6</span>
              </p>
            </li>
            <li>Find data with wavelength longer than 1.4 micron:
              <p>
                <span class="param">BAND=1.4e-6 Inf</span>
              </p>
            </li>
            <li>Find data with wavelength shorter than 1.4 micron:
              <p>
                <span class="param">BAND=-Inf 1.4e-6</span>
              </p>
            </li>
            <li>Find data that includes 2.2 micron:
              <p>
                <span class="param">BAND=2.2e-6</span>
              </p>
            </li>
          </ul>
        </dd>

        <a name="COLLECTION"></a>
        <dt><span class="param">COLLECTION</span></dt>
        <dd>
          <p>
            The <span class="param">COLLECTION</span> parameter identifies
            the group of data that an observation belongs to.</p>
          <p>Examples:</p>
          <ul>
            <li class="param">COLLECTION=spitzer_sha</li>
            <li class="param">COLLECTION=wise_allwise</li>
            <li class="param">COLLECTION=twomass_allsky</li>
          </ul>
        </dd>

        <a name="CALIB"></a>
        <dt><span class="param">CALIB</span></dt>
        <dd>
          <p>
            The <span class="param">CALIB</span> parameter
            identifies the calibration level of an observation.
            This is useful for distinguishing between raw,
            processed, and highly processed data that are all
            part of the same collection.  The specific meaning
            for the different levels are specified in
            the <a href="http://www.ivoa.net/documents/ObsCore/index.html">IVOA
	      ObsCore</a> standard:</p>

          <ul>
            <li><b>Level 0</b>: Raw instrumental data, in a proprietary or internal data-provider defined format, that
              needs instrument specific tools to be handled.</li>
            <li><b>Level 1</b>: Instrumental data in a standard format (FITS, VOTable, SDFITS, ASDM, etc.) which
              could be manipulated with standard astronomical packages.</li>
            <li><b>Level 2</b>: Calibrated, science ready data with the instrument signature removed.</li>
            <li><b>Level 3</b>: Enhanced data products like mosaics, resampled or drizzled images, or heavily
              processed survey fields. Level 3 data products may represent the combination of data from
              multiple primary observations.</li>
          </ul>
          <p>Examples:</p>
          <ul>
            <li class="param">CALIB=1</li>
            <li class="param">CALIB=2</li>
            <li class="param">CALIB=3</li>
          </ul>
        </dd>

        <a name="FORMAT"></a>
        <dt><span class="param">FORMAT</span></dt>
        <dd>
          <p>
            The <span class="param">FORMAT</span> parameter constrains
            which data products are returned based on their data
            format, as listed in the access_format column
          <p>Examples:</p>
          <ul>
            <li class="param">FORMAT=application/x-gzip</li>
            <li class="param">FORMAT=image/fits</li>
            <li class="param">FORMAT=text/plain</li>
          </ul>
        </dd>

        <a name="RESPONSEFORMAT"></a>
        <dt><span class="param">RESPONSEFORMAT</span></dt>
        <dd>
          <p>
            The <span class="param">RESPONSEFORMAT</span>
            parameter specifies what type of output the service
            will return.  The default is VOTable, but many
            options are available:</p>

          <ul>
            <li>FITS: <a href="https://fits.gsfc.nasa.gov/">Flexible Image Transport System</a></li>
            <li>IPAC_TABLE: <a href="http://irsa.ipac.caltech.edu/applications/DDGEN/Doc/ipac_tbl.html">IPAC's Table Format</a></li>
            <li>HDF5: <a href="https://www.hdfgroup.org/">Hierarchical Data Format v5</a></li>
            <li>VOTABLE: <a href="http://www.ivoa.net/Documents/VOTable/">IVOA VOTable</a></li>
            <li>JSON: <a href="http://json.org">JavaScript Object Notation</a></li>
            <li>CSV: Comma Separated Values (suitable for loading into spreadsheets)</li>
            <li>TSV: Tab Separated Values (suitable for loading into spreadsheets)</li>
            <li>TEXT: Plain text</li>
            <li>HTML: HTML table suitable for embedding within another page</li>
            <li>POSTGRES: SQL for loading the result into <a href="https://www.postgresql.org/">Postgres</a></li>
            <li>SQLITE: SQL for loading the result into <a href="http://www.sqlite.org/">SQLite</a></li>
            <li>ORACLE: SQL for loading the result into <a href="https://www.oracle.com/database/index.html">Oracle</a></li>
            <li>DB: Raw SQLite database</li>
          </ul>
          <p>Examples:</p>
          <ul>
            <li class="param">RESPONSEFORMAT=FITS</li>
            <li class="param">RESPONSEFORMAT=JSON</li>
            <li class="param">RESPONSEFORMAT=TEXT</li>
          </ul>
        </dd>
        
        <a name="MAXREC"></a>
        <dt><span class="param">MAXREC</span></dt>
        <dd>
          <p>
            The <span class="param">MAXREC</span> parameter specifies the
            maximum number of records to retrieve.  The default is
            unlimited.  However, any jobs taking longer than 5 minutes will
            be canceled.  For larger jobs, please
            use <a href="/docs/program_interface/TAP.html">TAP</a>
          </p>

          <p>Examples:</p>
          <ul>
            <li class="param">MAXREC=0</li>
            <li class="param">MAXREC=100</li>
            <li class="param">MAXREC=1000000</li>
          </ul>
        </dd>
      </dl>

      <a name="examples" />

      <h3>Examples</h3>


      <ol>
        <li>
          <p>
            Search for ALLWISE images within 10 arcseconds of ra,dec =
            (19.005875, -5.084472). Return the result as in
            comma-separated value format.
          </p>
          <pre class="prettyprint lang-bsh">
            wget -O example1.csv "https://irsa.ipac.caltech.edu/SIA?COLLECTION=wise_allwise&amp;POS=circle+-164.7+-5.8+0.002777&amp;RESPONSEFORMAT=CSV"</pre>
        </li>
        <li>
          <p>
            Return only the WISE channel 1 data products.
          </p>
          <pre class="prettyprint lang-bsh">
            wget -O example2.csv "https://irsa.ipac.caltech.edu/SIA?COLLECTION=wise_allwise&amp;POS=circle+-164.7+-5.8+0.002777&amp;RESPONSEFORMAT=CSV&amp;BAND=3.4e-6"</pre>
        </li>
        <li>
          <p>
            Return only data products that are FITS images (as opposed
            to gzipped files or text files).
          </p>
          <pre class="prettyprint lang-bsh">
            wget -O example3.csv "https://irsa.ipac.caltech.edu/SIA?COLLECTION=wise_allwise&amp;POS=circle+-164.7+-5.8+0.002777&amp;RESPONSEFORMAT=CSV&amp;BAND=3.4e-6&amp;FORMAT=image/fits"</pre>
        </li>
      </ol>

      <a name="help" />

      <h3>Getting Help</h3>

      <p>
	If you've run into a problem, think you've found a bug, or simply have questions, please contact
	<a href="https://irsasupport.ipac.caltech.edu/">IRSA User Support</a>.
      </p>

    </div>

    <script type="text/javascript"><!--
	                               $(document).ready(function() {
		                       var root, i =  window.location.pathname.lastIndexOf("/");
		                       if (i < 0) {
			               root = "";
		                       } else {
			               root = window.location.pathname.substring(0, i);
		                       }
		                       var server = window.location.protocol + '//' + window.location.host;
		                       $('span.server').text(server);
		                       $('span.root').text(root);
	                               });
                                     --></script>

    <div id="irsa-footer" style="position:absolute;left:0;right:0;margin-top:20px">
      <iframe src="https://irsa.ipac.caltech.edu/frontpage/footer.html" width="100%" frameborder=0 scrolling=0 seamless=1/>
    </div>  <!-- end #irsa-footer -->

  </body>
</html>

