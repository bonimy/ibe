<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>IRSA Image Server - SIA Queries</title>
	<link href="docs.css" type="text/css" rel="stylesheet" />
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js"></script>
</head>

<body>

<script>
fireflyToolbar= {
        "rootComponentsURL" : "http://irsa.ipac.caltech.edu",
        "direct" : true,
        };
</script>

<div id="irsa-banner"   style= "min-width:768px; min-height:95px"></div>
<script type="text/javascript" language='javascript' src='http://irsa.ipac.caltech.edu/frontpage/frontpage.nocache.js'> </script>

<div class="content">

<h1><a href="index.html">IRSA Image Server</a> - SIA Queries</h1>

<ul>
	<li><a href="#avail">Available data-sets</a></li>
	<li><a href="#overview">Overview</a></li>
	<li><a href="#metadata">Metadata queries</a></li>
	<li><a href="#spatial">Spatial queries</a></li>
	<li><a href="#ext">Extensions and non-standard behavior</a></li>
	<li><a href="#examples">Examples</a></li>
	<li><a href="#help">Getting Help</a></li>
</ul>

<a name="avail" />

<h3>Available data-sets</h3>

<div>
        <table>


        <tr><td colspan="4"><strong>WISE AllWISE Release</strong></td></tr>
        <tr><th>Data-set</th><th>SIA base URL</th><th>METADATA</th><th>Max SIZE</th></tr>

        <tr>
                <td><a href="docs/wise/allwise/p3am_cdd">AllWISE Atlas Coadds</a></td>
                <td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/wise/allwise/p3am_cdd</td>
                <td><a href="sia/wise/allwise/p3am_cdd?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/wise/allwise/p3am_cdd?FORMAT=METADATA</a></td>
                <td>5 deg</td>
        </tr>

	<tr><td>&nbsp;</td></tr>


        <tr><td colspan="4"><strong>WISE AllSky Release</strong></td></tr>
        <tr><th>Data-set</th><th>SIA base URL</th><th>METADATA</th><th>Max SIZE</th></tr>

        <tr>
                <td><a href="docs/wise/allsky/4band_p3am_cdd">4-band Atlas Coadds</a></td>
                <td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/wise/allsky/4band_p3am_cdd</td>
                <td><a href="sia/wise/allsky/4band_p3am_cdd?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/wise/allsky/4band_p3am_cdd?FORMAT=METADATA</a></td>
                <td>5 deg</td>
        </tr>

        <tr>
                <td><a href="docs/wise/allsky/4band_p1bm_frm">4-band Level 1B Frames</a></td>
                <td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/wise/allsky/4band_p1bm_frm</td>
                <td><a href="sia/wise/allsky/4band_p1bm_frm?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/wise/allsky/4band_p1bm_frm?FORMAT=METADATA</a></td>
                <td>5 deg</td>
        </tr>

        <tr>
                <td><a href="docs/wise/cryo_3band/3band_p3am_cdd">Cryo_3band Atlas Coadds</a></td>
                <td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/wise/cryo_3band/3band_p3am_cdd</td>
                <td><a href="sia/wise/cryo_3band/3band_p3am_cdd?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/wise/cryo_3band/3band_p3am_cdd?FORMAT=METADATA</a></td>
                <td>5 deg</td>
        </tr>

        <tr>
                <td><a href="docs/wise/cryo_3band/3band_p1bm_frm">Cryo_3band Level 1B Frames</a></td>
                <td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/wise/cryo_3band/3band_p1bm_frm</td>
                <td><a href="sia/wise/cryo_3band/3band_p1bm_frm?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/wise/cryo_3band/3band_p1bm_frm?FORMAT=METADATA</a></td>
                <td>5 deg</td>
        </tr>

        <tr>
                <td><a href="docs/wise/postcryo/2band_p1bm_frm">Postcryo (2-band) Level 1B Frames</a></td>
                <td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/wise/postcryo/2band_p1bm_frm</td>
                <td><a href="sia/wise/postcryo/2band_p1bm_frm?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/wise/postcryo/2band_p1bm_frm?FORMAT=METADATA</a></td>
                <td>5 deg</td>
        </tr>

	<tr><td>&nbsp;</td></tr>



	<tr><td colspan="4"><strong>WISE Preliminary Release</strong></td></tr>
	<tr><th>Data-set</th><th>SIA base URL</th><th>METADATA</th><th>Max SIZE</th></tr>

	<tr>
                <td><a href="docs/wise/prelim/p3am_cdd">Atlas Coadds</a></td>
		<td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/wise/prelim/p3am_cdd</td>
		<td><a href="sia/wise/prelim/p3am_cdd?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/wise/prelim/p3am_cdd?FORMAT=METADATA</a></td>
		<td>5 deg</td>
	</tr>

	<tr>
                <td><a href="docs/wise/prelim/p1bm_frm">Level 1B Frames</a></td>
		<td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/wise/prelim/p1bm_frm</td>
		<td><a href="sia/wise/prelim/p1bm_frm?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/wise/prelim/p1bm_frm?FORMAT=METADATA</a></td>
		<td>5 deg</td>
	</tr>

	<tr>
                <td><a href="docs/wise/prelim_postcryo/p1bm_frm">Postcryo 2B</a></td>
		<td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/wise/prelim_postcryo/2band_p1bm_frm</td>
		<td><a href="sia/wise/prelim_postcryo/2band_p1bm_frm?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/wise/prelim_postcryo/2band_p1bm_frm?FORMAT=METADATA</a></td>
		<td>5 deg</td>
	</tr>

	<tr><td>&nbsp;</td></tr>


	<tr><td colspan="4"><strong>WISE Merged Datasets</strong></td></tr>
	<tr><th>Data-set</th><th>SIA base URL</th><th>METADATA</th><th>Max SIZE</th></tr>

        <tr>
                <td><a href="docs/wise/merge/merge_p3am_cdd">Atlas Coadds</a></td>
                <td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/wise/merge/merge_p3am_cdd</td>
                <td><a href="sia/wise/merge/merge_p3am_cdd?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/wise/merge/merge_p3am_cdd?FORMAT=METADATA</a></td>
                <td>5 deg</td>
        </tr>
        <tr>
                <td><a href="docs/wise/merge/merge_p1bm_frm">Level 1B Frames</a></td>
                <td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/wise/merge/merge_p1bm_frm</td>
                <td><a href="sia/wise/merge/merge_p1bm_frm?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/wise/merge/merge_p1bm_frm?FORMAT=METADATA</a></td>
                <td>5 deg</td>
        </tr>

	<tr><td>&nbsp;</td></tr>

        <tr><td colspan="4"><strong>2MASS Datasets</strong></td></tr>
        <tr><th>Data-set</th><th>SIA base URL</th><th>METADATA</th><th>Max SIZE</th></tr>

        <tr>
                <td><a href="docs/twomass/allsky/allsky">2MASS All-Sky Data Release Images</a></td>
                <td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/twomass/allsky/allsky</td>
                <td><a href="sia/twomass/allsky/allsky?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/twomass/allsky/allsky?FORMAT=METADATA</a></td>
                <td>5 deg</td>
        </tr>
        <tr>
                <td><a href="docs/twomass/full/full">2MASS Full Survey Images</a></td>
                <td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/twomass/full/full</td>
                <td><a href="sia/twomass/full/full?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/twomass/full/full?FORMAT=METADATA</a></td>
                <td>5 deg</td>
        </tr>
        <tr>
                <td><a href="docs/twomass/sixxcat/sixxcat">2MASS 6X Catalog Images</a></td>
                <td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/twomass/sixxcat/sixxcat</td>
                <td><a href="sia/twomass/sixxcat/sixxcat?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/twomass/sixxcat/sixxcat?FORMAT=METADATA</a></td>
                <td>5 deg</td>
        </tr>
        <tr>
                <td><a href="docs/twomass/sixxfull/sixxfull">2MASS Full 6X Images</a></td>
                <td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/twomass/sixxfull/sixxfull</td>
                <td><a href="sia/twomass/sixxfull/sixxfull?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/twomass/sixxfull/sixxfull?FORMAT=METADATA</a></td>
                <td>5 deg</td>
        </tr>
        <tr>
                <td><a href="docs/twomass/calibration/calibration">2MASS Calibration Images</a></td>
                <td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/twomass/calibration/calibration</td>
                <td><a href="sia/twomass/calibration/calibration?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/twomass/calibration/calibration?FORMAT=METADATA</a></td>
                <td>5 deg</td>
        </tr>
        <tr>
                <td><a href="docs/twomass/mosaic/sixdeg">2MASS 6-Degree Mosaics</a></td>
                <td><span class="server">&lt;server&gt;</span><span class="root">&lt;root&gt;</span>/sia/twomass/mosaic/sixdeg</td>
                <td><a href="sia/twomass/mosaic/sixdeg?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/twomass/mosaic/sixdeg?FORMAT=METADATA</a></td>
                <td>5 deg</td>
        </tr>

        <tr><td>&nbsp;</td></tr>

	</table>

</div>

<a name="overview" />

<h3>Overview</h3>

<p>
	An overview of how to perform SIA queries is provided below - for full
	details, please see the <a href="http://www.ivoa.net">IVOA</a>
	<a href="http://www.ivoa.net/Documents/SIA/20091116/REC-SIA-1.0.pdf">SIA specification</a>.
	Note that the SIA services provided here fall under the Atlas/Pointed
	Image Archive categories (as defined by the SIA standard). That is, no
	facilities for performing image cutouts or mosaicing are provided.
</p>

<a name="metadata" />

<h3>Metadata queries</h3>

<p>
	An SIA metadata query returns a
	<a href="http://www.ivoa.net/Documents/VOTable/">VOTable</a> describing
	both the SIA service input parameters and the image metadata columns that
	are returned by actual queries. The output of a metadata query is exactly
	identical to the output of an SIA query returning no images.
</p>

<p>
	To perform a metadata query, simply append the <span class="param">FORMAT</span>
	argument with a value of METADATA to the SIA service URL. For example,
	<a href="sia/wise/allsky/4band_p3am_cdd?FORMAT=METADATA"><span class="root">&lt;root&gt;</span>/sia/wise/allsky/4band_p3am_cdd?FORMAT=METADATA</a>
	is a metadata query against the WISE All-Sky Release Atlas Coadds.
</p>

<a name="spatial" />

<h3>Spatial queries</h3>

<p>
	An SIA query returns a <a href="http://www.ivoa.net/Documents/VOTable/">VOTable</a>
	of images satisfying a spatial constraint. The constraint involves a
	search region, specified via the <span class="param">POS</span> and
	<span class="param">SIZE</span> parameters, and a spatial predicate,
	specified via the <span class="param">INTERSECT</span> parameter.
</p>

<dl>
	<dt><span class="param">POS</span>=ra,dec</dt>
	<dd>
		<p>
			The <span class="param">POS</span> parameter value must consist of 
			an ICRS right ascension and declination in decimal degrees. It identifies
			the point which returned images must contain, or the center of the search
			region. The coordinate values must be separated by a comma; no embedded
			whitespace is allowed.
		</p>
		<p>This parameter is <strong>required</strong>.</p>
		<p>Examples:</p>
		<ul>
			<li class="param">POS=359,10</li>
			<li class="param">POS=10,-89.5</li>
		</ul>
	</dd>
	<dt><span class="param">SIZE</span>=width[,height]</dt>
	<dd>
		<p>
			The <span class="param">SIZE</span> parameter consists of one or two
			(comma separated) values in decimal degrees. The first SIZE value
			is taken to be the full-width of the search region along the east axis
			at <span class="param">POS</span>, and the second is taken to be the
			full-height along the north axis. Taken together,
			<span class="param">POS</span> and <span class="param">SIZE</span>
			define a convex spherical polygon on the sky with great circle edges -
			the search region. During a query, this region is compared against the
			convex spherical polygons formed by connecting the 4 corners of each
			image in a data-set to determine which images should be returned.
		</p>
		<p>
			If only one size value is specified, it is used as both the full-width
			and full-height. Negative sizes are illegal, and a width and height
			of zero indicate that the search region is a point.
		</p>
		<p>
			<span class="param">SIZE</span> is an optional parameter.
			If unspecified, the default search region width and height
			is 0 (i.e. the search region is just the point
			<span class="param">POS</span>). Note also that if
			<span class="param">INTERSECT</span>=CENTER (see below),
			<span class="param">SIZE</span> is ignored.
		</p>
		<p>Examples:</p>
		<ul>
			<li class="param">SIZE=0.1</li>
			<li class="param">SIZE=1,2</li>
		</ul>
	</dd>
	<dt><span class="param">INTERSECT</span>=value</dt>
	<dd>
		<p>
			The <span class="param">INTERSECT</span> parameter specifies a
			spatial predicate that specifies how the search region S and the
			spatial extents of a candidate image X must be related.
			Four values are allowed:
		</p>
		<ul>
			<li><strong>COVERS</strong>: X must completely contain S.
				Equivalent to CENTER and OVERLAPS if S is a point.</li>
			<li><strong>ENCLOSED</strong>: S must completely contain X. If
				S is a point, the query will always return an empty image table.</li>
			<li><strong>CENTER</strong>: X must contain the center of S.
				If S is a point, this is equivalent to COVERS and OVERLAPS.</li>
			<li><strong>OVERLAPS</strong>: The intersection of S and X is non-empty.
				If S is a point, this is equivalent to CENTER and COVERS.</li>
		</ul>
		<p>
			The <span class="param">INTERSECT</span> parameter is optional;
			if unspecified, it defaults to OVERLAPS.
		</p>
		<p>
			The spatial extent of an image is approximated by connecting
			its corners with great circles to form a spherical convex polygon.
			The search region as defined by this service is also a spherical
			convex polygon (or a point). Spatial predicate evaluation
			is performed on pairs of spherical convex polygons without
			recourse to any performance motivated short-cuts. Nevertheless,
			the implementation uses floating point arithmetic and results are
			therefore not guaranteed to be mathematically exact. Note also
			that the spatial extent of an image with a non-gnomonic projection
			(or large distortion terms) may not be well approximated by
			the technique employed. However, the images currently
			being served have gnomonic or orthographic projections, are of
			small area and have small distortion terms - hence, we believe
			our approximations are accurate enough to be useful.
		</p>
	</dd>
</dl>

<a name="ext" />

<h3>Extensions and non-standard behavior</h3>

<p>
	As an extension to the SIA standard, one can specify the
	<span class="param">mcen</span> parameter. This parameter requires no
	value; if one is nevertheless specified, it is ignored. The presence
	of <span class="param">mcen</span> in a query indicates that only the
	most centered image/image set (with respect to <span class="param">POS</span>)
	should be returned, rather than all images/image sets containing
	<span class="param">POS</span>. If the <span class="param">SIZE</span>
	parameter is specified and non-zero, the <span class="param">mcen</span>
	parameter is ignored (except when <span class="param">INTERSECT</span>=CENTER).
</p>

<p>
	Note that the definition of the <span class="param">SIZE</span>
	parameter differs from the SIA standard. The latter defines the SIZE
	values as widths/heights in coordinate angle instead of true angle,
	leading to search regions that are boxes in spherical coordinate space
	rather than polygons on the sphere.
</p>

<a name="examples" />

<h3>Examples</h3>

<p>Here is an SIA query returning all WISE All-Sky Release Level 1b Frames 
   containing (ra,dec) = (20,40):
</p>

<ul><li><a href="sia/wise/allsky/4band_p1bm_frm?POS=20,40"><span class="root">&lt;root&gt;</span>/sia/wise/allsky/4band_p1bm_frm?POS=20,40</a></li></ul>

<p>And here is a query returning all WISE Preliminary Release Atlas coadds
   overlapping a search rectangle centered on (ra,dec) = (20,40) with width
   and height of 1.5 degrees:
</p>

<ul><li><a href="sia/wise/prelim/p3am_cdd?POS=20,40&amp;SIZE=1.5"><span class="root">&lt;root&gt;</span>/sia/wise/prelim/p3am_cdd?POS=20,40&amp;SIZE=1.5</a></li></ul>

<a name="help" />

<h3>Getting Help</h3>

<p>
	If you've run into a problem, think you've found a bug, or simply have questions, please contact
	<a href="https://irsasupport.ipac.caltech.edu/">IRSA User Support</a>.
</p>

</div>

<script type="text/javascript"><!--
	$(document).ready(function() {
		var root, i =  window.location.pathname.lastIndexOf("/");
		if (i < 0) {
			root = "";
		} else {
			root = window.location.pathname.substring(0, i);
		}
		var server = window.location.protocol + '//' + window.location.host;
		$('span.server').text(server);
		$('span.root').text(root);
	});
--></script>

<div id="irsa-footer" style="position:absolute;left:0;right:0;margin-top:20px">
<iframe src="http://irsa.ipac.caltech.edu/frontpage/footer.html" width="100%" frameborder=0 scrolling=0 seamless=1/>
</div>  <!-- end #irsa-footer -->

</body>
</html>

